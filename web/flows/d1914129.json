{
  "id": "d1914129",
  "name": "model-profile-compare-v1",
  "description": "Compare two model profile JSON payloads and produce a delta report + structured diff.",
  "interfaces": [],
  "nodes": [
    {
      "id": "node-1",
      "type": "on_flow_start",
      "position": { "x": -960.0, "y": 320.0 },
      "data": {
        "nodeType": "on_flow_start",
        "label": "On Flow Start",
        "icon": "&#x1F3C1;",
        "headerColor": "#C0392B",
        "inputs": [],
        "outputs": [
          { "id": "exec-out", "label": "", "type": "execution" },
          { "id": "evaluator_provider", "label": "evaluator_provider", "type": "provider" },
          { "id": "evaluator_model", "label": "evaluator_model", "type": "model" },
          { "id": "evaluator_temperature", "label": "evaluator_temperature", "type": "number" },
          { "id": "evaluator_seed", "label": "evaluator_seed", "type": "number" },
          { "id": "profile_a", "label": "profile_a", "type": "object" },
          { "id": "profile_b", "label": "profile_b", "type": "object" }
        ],
        "pinDefaults": {
          "evaluator_provider": "lmstudio",
          "evaluator_model": "qwen/qwen3-next-80b",
          "evaluator_temperature": 0,
          "evaluator_seed": 0
        }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-2",
      "type": "stringify_json",
      "position": { "x": -640.0, "y": 224.0 },
      "data": {
        "nodeType": "stringify_json",
        "label": "Stringify A",
        "icon": "&#x1F4DD;",
        "headerColor": "#3498DB",
        "inputs": [
          { "id": "value", "label": "value", "type": "any", "description": "JSON value (or JSON-ish string) to stringify." },
          { "id": "mode", "label": "mode", "type": "string", "description": "Rendering mode: none | beautify | minified. Default beautify." }
        ],
        "outputs": [{ "id": "result", "label": "result", "type": "string" }],
        "pinDefaults": { "mode": "minified" }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-3",
      "type": "stringify_json",
      "position": { "x": -640.0, "y": 416.0 },
      "data": {
        "nodeType": "stringify_json",
        "label": "Stringify B",
        "icon": "&#x1F4DD;",
        "headerColor": "#3498DB",
        "inputs": [
          { "id": "value", "label": "value", "type": "any", "description": "JSON value (or JSON-ish string) to stringify." },
          { "id": "mode", "label": "mode", "type": "string", "description": "Rendering mode: none | beautify | minified. Default beautify." }
        ],
        "outputs": [{ "id": "result", "label": "result", "type": "string" }],
        "pinDefaults": { "mode": "minified" }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-4",
      "type": "literal_json",
      "position": { "x": -384.0, "y": 320.0 },
      "data": {
        "nodeType": "literal_json",
        "label": "JSON",
        "icon": "{}",
        "headerColor": "#00FFFF",
        "inputs": [],
        "outputs": [{ "id": "value", "label": "value", "type": "object" }],
        "literalValue": {}
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-5",
      "type": "set",
      "position": { "x": -160.0, "y": 224.0 },
      "data": {
        "nodeType": "set",
        "label": "Set profile_a_json",
        "icon": "&#x1F4E4;",
        "headerColor": "#3498DB",
        "inputs": [
          { "id": "object", "label": "object", "type": "object" },
          { "id": "key", "label": "key", "type": "string" },
          { "id": "value", "label": "value", "type": "any" }
        ],
        "outputs": [{ "id": "result", "label": "result", "type": "object" }],
        "pinDefaults": { "key": "profile_a_json" }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-6",
      "type": "set",
      "position": { "x": 64.0, "y": 224.0 },
      "data": {
        "nodeType": "set",
        "label": "Set profile_b_json",
        "icon": "&#x1F4E4;",
        "headerColor": "#3498DB",
        "inputs": [
          { "id": "object", "label": "object", "type": "object" },
          { "id": "key", "label": "key", "type": "string" },
          { "id": "value", "label": "value", "type": "any" }
        ],
        "outputs": [{ "id": "result", "label": "result", "type": "object" }],
        "pinDefaults": { "key": "profile_b_json" }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-7",
      "type": "format",
      "position": { "x": 288.0, "y": 320.0 },
      "data": {
        "nodeType": "format",
        "label": "Format",
        "icon": "&#x1F4DD;",
        "headerColor": "#E74C3C",
        "inputs": [
          { "id": "template", "label": "template", "type": "string" },
          { "id": "values", "label": "values", "type": "object" }
        ],
        "outputs": [{ "id": "result", "label": "result", "type": "string" }],
        "pinDefaults": {
          "template": "You are a strict evaluator. Compare two model profile payloads and produce a useful delta report.\n\nINPUT A (minified JSON)\n{profile_a_json}\n\nINPUT B (minified JSON)\n{profile_b_json}\n\nTASK\n1) Produce report_markdown with sections: Summary, Key Deltas, Role Recommendations, Preset Recommendations, Risks.\n2) Produce a structured diff object with:\n- summary (string)\n- winner_by_role: list of {role, winner, why}\n- deltas: object of numeric score deltas for aggregate psyche/capability traits when available.\nReturn ONLY valid JSON matching the schema."
        }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-8",
      "type": "json_schema",
      "position": { "x": 288.0, "y": 544.0 },
      "data": {
        "nodeType": "json_schema",
        "label": "JSON Schema",
        "icon": "&#x1F4CB;",
        "headerColor": "#00FFFF",
        "inputs": [],
        "outputs": [{ "id": "value", "label": "schema", "type": "object" }],
        "literalValue": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "report_markdown": { "type": "string" },
            "diff": {
              "type": "object",
              "additionalProperties": true,
              "properties": {
                "summary": { "type": "string" },
                "winner_by_role": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": { "role": { "type": "string" }, "winner": { "type": "string" }, "why": { "type": "string" } },
                    "required": ["role", "winner", "why"]
                  }
                },
                "deltas": { "type": "object", "additionalProperties": { "type": "number" } }
              },
              "required": ["summary", "winner_by_role", "deltas"]
            }
          },
          "required": ["report_markdown", "diff"]
        }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-9",
      "type": "llm_call",
      "position": { "x": 576.0, "y": 320.0 },
      "data": {
        "nodeType": "llm_call",
        "label": "Evaluator",
        "icon": "&#x1F4AD;",
        "headerColor": "#3498DB",
        "inputs": [
          { "id": "exec-in", "label": "", "type": "execution" },
          { "id": "include_context", "label": "use_context", "type": "boolean", "description": "When true, include this run's active context messages (context.messages) in the LLM request. If the pin is not connected, the node checkbox is used. Default: false." },
          { "id": "provider", "label": "provider", "type": "provider", "description": "LLM provider id (e.g. LMStudio). If unset, uses the node’s configured provider." },
          { "id": "model", "label": "model", "type": "model", "description": "LLM model id/name. If unset, uses the node’s configured model." },
          { "id": "temperature", "label": "temperature", "type": "number", "description": "Sampling temperature (0 = deterministic). If unset, uses the node’s configured temperature." },
          { "id": "seed", "label": "seed", "type": "number", "description": "Seed for deterministic sampling (-1 = random/unset). If unset, uses the node’s configured seed." },
          { "id": "system", "label": "system", "type": "string", "description": "Optional system prompt for this single call." },
          { "id": "prompt", "label": "prompt", "type": "string", "description": "User prompt/content for this single call." },
          { "id": "tools", "label": "tools", "type": "tools", "description": "Allowlist of tools exposed to the model as ToolSpecs (model may request tool calls; execution is done via a Tool Calls node)." },
          { "id": "response_schema", "label": "structured_output", "type": "object", "description": "Optional JSON Schema object (type=object) the assistant content must conform to." }
        ],
        "outputs": [
          { "id": "exec-out", "label": "", "type": "execution" },
          { "id": "response", "label": "response", "type": "string", "description": "Assistant text content (best-effort). For tool calls, content may be empty." },
          { "id": "tool_calls", "label": "tool_calls", "type": "array", "description": "Normalized tool call requests (same as result.tool_calls). This pin exists to make wiring into Tool Calls / Emit Event nodes simpler." },
          { "id": "result", "label": "result", "type": "object", "description": "Full normalized LLM result (content, tool_calls, usage, provider/model metadata, trace_id)." }
        ],
        "pinDefaults": { "system": "You are a strict evaluator. Be concise and actionable." },
        "effectConfig": { "provider": "lmstudio", "model": "qwen/qwen3-next-80b" }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-10",
      "type": "break_object",
      "position": { "x": 832.0, "y": 320.0 },
      "data": {
        "nodeType": "break_object",
        "label": "Break Object",
        "icon": "&#x1F9E9;",
        "headerColor": "#3498DB",
        "inputs": [{ "id": "object", "label": "object", "type": "object" }],
        "outputs": [
          { "id": "data", "label": "data", "type": "any" },
          { "id": "content", "label": "content", "type": "string" }
        ],
        "breakConfig": { "selectedPaths": ["data", "content"] }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-11",
      "type": "break_object",
      "position": { "x": 1088.0, "y": 320.0 },
      "data": {
        "nodeType": "break_object",
        "label": "Break Object",
        "icon": "&#x1F9E9;",
        "headerColor": "#3498DB",
        "inputs": [{ "id": "object", "label": "object", "type": "object" }],
        "outputs": [
          { "id": "report_markdown", "label": "report_markdown", "type": "string" },
          { "id": "diff", "label": "diff", "type": "object" }
        ],
        "breakConfig": { "selectedPaths": ["report_markdown", "diff"] }
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    },
    {
      "id": "node-12",
      "type": "on_flow_end",
      "position": { "x": 1360.0, "y": 320.0 },
      "data": {
        "nodeType": "on_flow_end",
        "label": "On Flow End",
        "icon": "&#x23F9;",
        "headerColor": "#C0392B",
        "inputs": [
          { "id": "exec-in", "label": "", "type": "execution" },
          { "id": "report", "label": "report", "type": "string" },
          { "id": "diff", "label": "diff", "type": "object" }
        ],
        "outputs": []
      },
      "label": null,
      "icon": null,
      "headerColor": null,
      "inputs": [],
      "outputs": []
    }
  ],
  "edges": [
    { "id": "edge-1", "source": "node-1", "sourceHandle": "profile_a", "target": "node-2", "targetHandle": "value", "animated": false },
    { "id": "edge-2", "source": "node-1", "sourceHandle": "profile_b", "target": "node-3", "targetHandle": "value", "animated": false },

    { "id": "edge-3", "source": "node-4", "sourceHandle": "value", "target": "node-5", "targetHandle": "object", "animated": false },
    { "id": "edge-4", "source": "node-2", "sourceHandle": "result", "target": "node-5", "targetHandle": "value", "animated": false },

    { "id": "edge-5", "source": "node-5", "sourceHandle": "result", "target": "node-6", "targetHandle": "object", "animated": false },
    { "id": "edge-6", "source": "node-3", "sourceHandle": "result", "target": "node-6", "targetHandle": "value", "animated": false },

    { "id": "edge-7", "source": "node-6", "sourceHandle": "result", "target": "node-7", "targetHandle": "values", "animated": false },
    { "id": "edge-8", "source": "node-7", "sourceHandle": "result", "target": "node-9", "targetHandle": "prompt", "animated": false },

    { "id": "edge-9", "source": "node-1", "sourceHandle": "exec-out", "target": "node-9", "targetHandle": "exec-in", "animated": true },
    { "id": "edge-10", "source": "node-1", "sourceHandle": "evaluator_provider", "target": "node-9", "targetHandle": "provider", "animated": false },
    { "id": "edge-11", "source": "node-1", "sourceHandle": "evaluator_model", "target": "node-9", "targetHandle": "model", "animated": false },
    { "id": "edge-12", "source": "node-1", "sourceHandle": "evaluator_temperature", "target": "node-9", "targetHandle": "temperature", "animated": false },
    { "id": "edge-13", "source": "node-1", "sourceHandle": "evaluator_seed", "target": "node-9", "targetHandle": "seed", "animated": false },
    { "id": "edge-14", "source": "node-8", "sourceHandle": "value", "target": "node-9", "targetHandle": "response_schema", "animated": false },

    { "id": "edge-15", "source": "node-9", "sourceHandle": "result", "target": "node-10", "targetHandle": "object", "animated": false },
    { "id": "edge-16", "source": "node-10", "sourceHandle": "data", "target": "node-11", "targetHandle": "object", "animated": false },

    { "id": "edge-17", "source": "node-9", "sourceHandle": "exec-out", "target": "node-12", "targetHandle": "exec-in", "animated": true },
    { "id": "edge-18", "source": "node-11", "sourceHandle": "report_markdown", "target": "node-12", "targetHandle": "report", "animated": false },
    { "id": "edge-19", "source": "node-11", "sourceHandle": "diff", "target": "node-12", "targetHandle": "diff", "animated": false }
  ],
  "entryNode": "node-1",
  "created_at": "2026-01-09T17:20:00.000000",
  "updated_at": "2026-01-09T17:20:00.000000"
}

